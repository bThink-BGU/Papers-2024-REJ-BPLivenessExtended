# -*- coding: utf-8 -*-
"""task2.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1cU6_kbhswbYJbN_RYiga8-D5X-S2MD2O
"""

# Don't touch this b-thread
@thread
def bt_1():
    for i in range(5):
        yield {request: [Up, Down, Left, Right]}

# Enter your solution below
@thread
def bt_2():
    def get_possible_moves(location):
        """Determine possible moves based on the robot's current location."""
        move_options = {
            At11: [Right, Down],
            At12: [Right, Down, Left],
            At13: [Down, Left],
            At21: [Right, Up],
            At22: [Right, Up, Down, Left],
            At23: [Left, Down],
            At31: [Right, Up],
            At32: [Right, Up, Left],
            At33: [Left, Up],
        }
        return move_options.get(location, [Up, Down, Left, Right])

    while True:
        # Wait for the position update
        location = yield {waitFor: AnyAt}

        # Determine possible moves based on current location
        possible_moves = get_possible_moves(location)

        # Request possible moves
        yield {request: possible_moves}